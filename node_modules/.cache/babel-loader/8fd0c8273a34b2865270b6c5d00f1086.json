{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ben/research/2020/11_november/potter_graph/app/src/Config.js\";\nimport React from 'react';\nimport { Button, ButtonGroup, Container, Dropdown, InputGroup, FormControl, Form, ListGroup, ListGroupItem, OverlayTrigger, Popover, Tab, Tabs } from 'react-bootstrap';\nimport Highlighter from \"react-highlight-words\";\n\nclass RelationView extends React.Component {\n  constructor(props) {\n    super(props);\n  } // onSelectPanNode = (event) => {\n  //     if (this.GraphView) {\n  //       this.ref.GraphView.panToNode(event.target.value, true);\n  //     }\n  //   };\n\n\n  render() {\n    var relation = this.props.relations;\n    return /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"info\",\n        title: \"Relation Info\",\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: \"source\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: relation.top_sentence\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: \"target\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: \"size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: relation.size\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: relation.key_words.map(kw => {\n              return /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                style: {\n                  margin: '2px'\n                },\n                children: kw\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 49\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"profile\",\n        title: \"Examples\",\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: relation.relations.map(r => {\n            return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  children: r.s\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                  trigger: \"click\",\n                  placement: \"top\",\n                  overlay: /*#__PURE__*/_jsxDEV(Popover, {\n                    id: `popover-positioned-top`,\n                    children: [/*#__PURE__*/_jsxDEV(Popover.Title, {\n                      as: \"h3\",\n                      children: \"book placement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 66,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Popover.Content, {\n                      children: /*#__PURE__*/_jsxDEV(Highlighter, {\n                        highlightClassName: \"highlighted\",\n                        searchWords: [r.rc],\n                        autoEscape: true,\n                        textToHighlight: r.p\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 68,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 67,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 49\n                  }, this),\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    block: true,\n                    variant: \"outline-secondary\",\n                    children: [r.rc.slice(0, 20), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 45\n                  }, this)\n                }, 'paragraph', false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  children: r.t\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nclass AgeView extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    var age = this.props.age;\n    return /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"info\",\n        title: \"Relation Info\",\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: [/*#__PURE__*/_jsxDEV(ButtonGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: age.frequency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: \"n Charcters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                children: age.n_characters\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            children: age.charcters.map(c => {\n              return /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                style: {\n                  margin: '2px'\n                },\n                children: c\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 49\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"profile\",\n        title: \"Examples\",\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: age.relations.map(r => {\n            return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  children: r.s\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                  trigger: \"click\",\n                  placement: \"top\",\n                  overlay: /*#__PURE__*/_jsxDEV(Popover, {\n                    id: `popover-positioned-top`,\n                    children: [/*#__PURE__*/_jsxDEV(Popover.Title, {\n                      as: \"h3\",\n                      children: \"book placement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Popover.Content, {\n                      children: /*#__PURE__*/_jsxDEV(Highlighter, {\n                        highlightClassName: \"highlighted\",\n                        searchWords: [r.rc],\n                        autoEscape: true,\n                        textToHighlight: r.rc\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 49\n                  }, this),\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    block: true,\n                    variant: \"outline-secondary\",\n                    children: [r.rc.slice(0, 20), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)\n                }, 'paragraph', false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  children: r.t\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nclass DataBuilder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.buttonClick = event => {\n      if (this.state.newQuery) {// this.props.parentCallback({data: null,\n        //     config: null});\n        // this.setState({ newQuery : false });\n        // this.getRelation();\n      } // this.props.parentCallback({data: this.state.data,\n      //                             config: this.state.config});\n      // event.preventDefault();\n\n    };\n\n    this.handleClusterQuery = event => {\n      this.state.query.push(event);\n      this.setState({\n        newQuery: true\n      });\n      this.props.parentCallback({\n        query: this.state.query\n      }); // event.preventDefault();\n    };\n\n    this.onSelectRelation = e => {\n      this.setState({\n        relationid: parseInt(e.cluster)\n      });\n    };\n\n    this.handleAgeQuery = event => {// this.state.query.push(event);\n      // this.setState({ newQuery : true});\n      // this.props.parentCallback({query: this.state.query});\n      // event.preventDefault();\n    };\n\n    this.onSelectAge = e => {\n      this.setState({\n        age: e\n      });\n    };\n\n    var config = JSON.parse(require('./config.json'));\n    var data = JSON.parse(require('./data.json'));\n    var relationslist = JSON.parse(require('./relations.json'));\n    var ages = JSON.parse(require('./ages.json'));\n    this.state = {\n      config: this.buildconfig(config),\n      data: this.builddata(data),\n      query: [],\n      newQuery: null,\n      newData: true,\n      relations: config.EdgeTypes,\n      relationview: null,\n      relationid: null,\n      relationslist: relationslist,\n      agesResource: ages\n    };\n    this.buttonClick = this.buttonClick.bind(this);\n    this.handleClusterQuery = this.handleClusterQuery.bind(this);\n    this.getRelation = this.getRelation.bind(this);\n    this.onSelectRelation = this.onSelectRelation.bind(this); // this.doData = this.doData.bind(this);\n    // this.componentDidUpdate = this.componentDidUpdate.bind(this);\n    // this.componentDidMount = this.componentDidUpdate.bind(this);\n  }\n\n  buildconfig(config) {\n    var NodeTypes = {};\n    config.NodeTypes.map(type => {\n      type.shape = /*#__PURE__*/_jsxDEV(\"symbol\", {\n        viewBox: \"0 0 100 100\",\n        id: type.typeText,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"50\",\n          cy: \"50\",\n          r: \"45\",\n          style: {\n            color: '#ffffff',\n            fill: type.color\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)\n      }, \"0\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this);\n      NodeTypes[type.typeText] = type;\n    });\n    var EdgeTypes = {};\n    config.EdgeTypes.map(type => {\n      type.shape = /*#__PURE__*/_jsxDEV(\"symbol\", {\n        viewBox: \"0 0 200 200\",\n        id: type.typeText,\n        label_from: type.typeText,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"100\",\n          cy: \"100\",\n          r: \"45\",\n          fill: type.color\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this)\n      }, \"0\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }, this);\n      EdgeTypes[type.typeText] = type;\n    });\n    var PotterConfig = {\n      NodeTypes: NodeTypes,\n      NodeSubtypes: {},\n      EdgeTypes: EdgeTypes\n    };\n    return PotterConfig;\n  }\n\n  builddata(data) {\n    return data;\n  }\n\n  async getRelation() {\n    const response = await fetch('http://localhost:5000/cluster', {\n      method: 'POST',\n      // or 'PUT'\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.query)\n    });\n    const data = await response.json();\n    console.log(data);\n    this.setState({\n      data: this.builddata(data.data),\n      config: this.buildconfig(data.config)\n    });\n  }\n\n  // componentDidMount () {\n  //     this.props.parentCallback({data: this.state.data,\n  //         config: this.state.config});\n  // }\n  render() {\n    var relationview = this.state.relationid ? /*#__PURE__*/_jsxDEV(RelationView, {\n      ref: this.props.ref,\n      relations: this.state.relationslist[this.state.relationid]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 54\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 158\n    }, this);\n    var ageview = this.state.age ? /*#__PURE__*/_jsxDEV(AgeView, {\n      age: this.state.age\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 42\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 79\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        defaultActiveKey: \"relation\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"relation\",\n          title: \"Relations\",\n          children: [/*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              height: '30em',\n              overflow: 'scroll'\n            },\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: this.state.relations.map(relation => {\n                return /*#__PURE__*/_jsxDEV(Form.Row, {\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                      children: /*#__PURE__*/_jsxDEV(InputGroup.Checkbox, {\n                        onClick: event => this.handleClusterQuery(relation.typeText)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 344,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                      children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"basic-addon1\",\n                        style: {\n                          backgroundColor: relation.color,\n                          width: '100px',\n                          color: \"white\"\n                        },\n                        onClick: event => this.onSelectRelation(relation),\n                        children: relation.typeText\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                      placeholder: 'rename'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              height: '30em',\n              overflow: 'scroll'\n            },\n            children: relationview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"ages\",\n          tab: \"Ages\",\n          children: [/*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              height: \"30em\",\n              overflow: \"scroll\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: this.state.agesResource.map(age => {\n                return /*#__PURE__*/_jsxDEV(Form.Row, {\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                      children: /*#__PURE__*/_jsxDEV(InputGroup.Checkbox, {\n                        onClick: event => this.handleAgeQuery(age.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                      children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"basic-addon1\" // style = {{backgroundColor : relation.color, width : '100px', color : \"white\"}} \n                        ,\n                        onClick: event => this.onSelectAge(age),\n                        children: age.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                      placeholder: 'rename'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 29\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              height: '30em',\n              overflow: 'scroll'\n            },\n            children: ageview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DataBuilder;","map":{"version":3,"sources":["/home/ben/research/2020/11_november/potter_graph/app/src/Config.js"],"names":["React","Button","ButtonGroup","Container","Dropdown","InputGroup","FormControl","Form","ListGroup","ListGroupItem","OverlayTrigger","Popover","Tab","Tabs","Highlighter","RelationView","Component","constructor","props","render","relation","relations","top_sentence","size","key_words","map","kw","margin","r","s","rc","p","slice","t","AgeView","age","frequency","n_characters","charcters","c","DataBuilder","buttonClick","event","state","newQuery","handleClusterQuery","query","push","setState","parentCallback","onSelectRelation","e","relationid","parseInt","cluster","handleAgeQuery","onSelectAge","config","JSON","parse","require","data","relationslist","ages","buildconfig","builddata","newData","EdgeTypes","relationview","agesResource","bind","getRelation","NodeTypes","type","shape","typeText","color","fill","PotterConfig","NodeSubtypes","response","fetch","method","headers","body","stringify","json","console","log","ref","ageview","height","overflow","backgroundColor","width","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, ButtonGroup, Container, Dropdown, InputGroup, FormControl, Form, ListGroup, ListGroupItem, OverlayTrigger, Popover, Tab, Tabs } from 'react-bootstrap';\nimport Highlighter from \"react-highlight-words\";\n\nclass RelationView extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    // onSelectPanNode = (event) => {\n    //     if (this.GraphView) {\n    //       this.ref.GraphView.panToNode(event.target.value, true);\n    //     }\n    //   };\n\n    render () {\n\n        var relation = this.props.relations;\n\n        return (\n\n                <Tabs defaultActiveKey=\"info\" >\n                <Tab eventKey=\"info\" title=\"Relation Info\">\n\n                    <ListGroup>\n                        <ListGroupItem>\n                            <ButtonGroup>\n                                <Button variant = 'outline-secondary' >source</Button>\n                                <Button variant = 'outline-secondary' >{relation.top_sentence}</Button>\n                                <Button variant = 'outline-secondary' >target</Button>\n                            </ButtonGroup>\n                        </ListGroupItem>\n                        <ListGroupItem>\n                        <ButtonGroup>\n                                <Button variant = 'outline-secondary' >size</Button>\n                                <Button variant = 'outline-secondary' >{relation.size}</Button>\n                            </ButtonGroup>\n                        </ListGroupItem>\n                        <ListGroupItem>\n\n                            {relation.key_words.map(kw => {\n                                        return (<Button variant = 'outline-secondary' style={{margin : '2px'}}>{kw}</Button>)\n                            }\n                                \n                                )}\n                        </ListGroupItem>\n                    </ListGroup>\n\n                </Tab>\n                <Tab eventKey=\"profile\" title=\"Examples\">\n                    <ListGroup>\n                        {relation.relations.map( r => {\n                            return (\n                                <ListGroupItem>\n                                    <ButtonGroup className=\"d-flex\">\n                                        <Button variant = 'outline-secondary'>{r.s}</Button>\n\n\n                                        <OverlayTrigger\n                                            trigger=\"click\"\n                                            key='paragraph'\n                                            placement='top'\n                                            overlay={\n                                                <Popover id={`popover-positioned-top`}>\n                                                <Popover.Title as=\"h3\">book placement</Popover.Title>\n                                                <Popover.Content>\n                                                <Highlighter\n                                                        highlightClassName=\"highlighted\"\n                                                        searchWords={[r.rc]}\n                                                        autoEscape={true}\n                                                        textToHighlight={r.p}\n                                                    />\n                                                </Popover.Content>\n                                                </Popover>\n                                            }\n                                            >\n                                            <Button block variant = 'outline-secondary'>{r.rc.slice(0,20)}...</Button>\n                                            </OverlayTrigger>\n                                            \n                                            <Button variant = 'outline-secondary'>{r.t}</Button>\n                                        {/* add overlay */}\n                                    </ButtonGroup>\n                                </ListGroupItem>\n                            )\n                    })}     \n                    </ListGroup>            \n                </Tab>\n\n                </Tabs>\n            \n        )\n    }\n\n\n}\n\nclass AgeView extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render () {\n\n        var age = this.props.age;\n\n        return (\n\n                <Tabs defaultActiveKey=\"info\" >\n                <Tab eventKey=\"info\" title=\"Relation Info\">\n\n                    <ListGroup>\n                        <ListGroupItem>\n\n\n                        </ListGroupItem>\n                        <ListGroupItem>\n                        <ButtonGroup>\n                                <Button variant = 'outline-secondary' >Frequency</Button>\n                                <Button variant = 'outline-secondary' >{age.frequency}</Button>\n                        </ButtonGroup>\n                        <ButtonGroup>\n                                <Button variant = 'outline-secondary' >n Charcters</Button>\n                                <Button variant = 'outline-secondary' >{age.n_characters}</Button>\n                        </ButtonGroup>\n                        </ListGroupItem>\n                        <ListGroupItem>\n\n                            {age.charcters.map(c => {\n                                        return (<Button variant = 'outline-secondary' style={{margin : '2px'}}>{c}</Button>)\n                            }\n                                \n                                )}\n                        </ListGroupItem>\n                    </ListGroup>\n\n                </Tab>\n                <Tab eventKey=\"profile\" title=\"Examples\">\n                    <ListGroup>\n                        {age.relations.map( r => {\n                            return (\n                                <ListGroupItem>\n                                    <ButtonGroup className=\"d-flex\">\n                                        <Button variant = 'outline-secondary'>{r.s}</Button>\n\n\n                                        <OverlayTrigger\n                                            trigger=\"click\"\n                                            key='paragraph'\n                                            placement='top'\n                                            overlay={\n                                                <Popover id={`popover-positioned-top`}>\n                                                <Popover.Title as=\"h3\">book placement</Popover.Title>\n                                                <Popover.Content>\n                                                <Highlighter\n                                                        highlightClassName=\"highlighted\"\n                                                        searchWords={[r.rc]}\n                                                        autoEscape={true}\n                                                        textToHighlight={r.rc}\n                                                    />\n                                                </Popover.Content>\n                                                </Popover>\n                                            }\n                                            >\n                                            <Button block variant = 'outline-secondary'>{r.rc.slice(0,20)}...</Button>\n                                            </OverlayTrigger>\n                                            \n                                            <Button variant = 'outline-secondary'>{r.t}</Button>\n                                        {/* add overlay */}\n                                    </ButtonGroup>\n                                </ListGroupItem>\n                            )\n                    })}     \n                    </ListGroup>            \n                </Tab>\n\n                </Tabs>\n            \n        )\n    }\n\n\n}\n\nclass DataBuilder extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        var config = JSON.parse(require('./config.json'));\n        var data = JSON.parse(require('./data.json'));\n        var relationslist = JSON.parse(require('./relations.json'));\n        var ages = JSON.parse(require('./ages.json'));\n        \n        this.state = {\n            config : this.buildconfig(config),\n            data : this.builddata(data),\n            query : [],\n            newQuery : null,\n            newData : true,\n            relations : config.EdgeTypes,\n            relationview : null,\n            relationid : null,\n            relationslist :relationslist,\n            agesResource : ages\n        };\n\n        this.buttonClick = this.buttonClick.bind(this);\n        this.handleClusterQuery = this.handleClusterQuery.bind(this);\n        this.getRelation = this.getRelation.bind(this);\n        this.onSelectRelation = this.onSelectRelation.bind(this);\n        // this.doData = this.doData.bind(this);\n\n        // this.componentDidUpdate = this.componentDidUpdate.bind(this);\n        // this.componentDidMount = this.componentDidUpdate.bind(this);\n    }\n\n    buildconfig(config) {\n        \n        var NodeTypes = {}\n    \n        config.NodeTypes.map( type => {\n            type.shape =  (\n                    <symbol viewBox=\"0 0 100 100\" id={type.typeText} key=\"0\">\n                        <circle cx=\"50\" cy=\"50\" r=\"45\" style={{ color : '#ffffff' , \n                                                                fill : type.color}} ></circle>\n                    </symbol>\n                    )\n            NodeTypes[type.typeText] = type\n            \n        })\n        \n        var EdgeTypes = {}\n        \n        config.EdgeTypes.map( type => {\n            type.shape = (\n                    <symbol viewBox=\"0 0 200 200\" id={type.typeText} key=\"0\" label_from = {type.typeText}>\n                        <circle cx=\"100\" cy=\"100\" r=\"45\" fill={type.color}></circle>\n                    </symbol>\n            )\n            EdgeTypes[type.typeText] = type\n        })\n        \n        var PotterConfig =  {\n            NodeTypes: NodeTypes,\n            NodeSubtypes: {},\n            EdgeTypes: EdgeTypes\n          }\n          \n        return PotterConfig;\n    }\n\n    builddata(data) { \n        return data\n    }\n\n    async getRelation() {\n\n        const response = await fetch('http://localhost:5000/cluster', {\n        method: 'POST', // or 'PUT'\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(this.state.query)\n        })\n\n        const data = await response.json()\n\n        console.log(data)\n\n        this.setState({\n            data: this.builddata(data.data),\n            config: this.buildconfig(data.config)})\n\n      }\n    \n\n    buttonClick = (event) => {\n\n        if (this.state.newQuery) {\n            // this.props.parentCallback({data: null,\n            //     config: null});\n            // this.setState({ newQuery : false });\n            // this.getRelation();\n        }\n        \n        // this.props.parentCallback({data: this.state.data,\n        //                             config: this.state.config});\n\n        // event.preventDefault();\n    }\n\n\n    handleClusterQuery = (event) => {\n        this.state.query.push(event);\n        this.setState({ newQuery : true});\n        this.props.parentCallback({query: this.state.query});\n        // event.preventDefault();\n    }\n\n\n    onSelectRelation = (e) => {\n        this.setState({relationid : parseInt(e.cluster)})   \n        \n    }\n\n    handleAgeQuery = (event) => {\n        // this.state.query.push(event);\n        // this.setState({ newQuery : true});\n        // this.props.parentCallback({query: this.state.query});\n        // event.preventDefault();\n    }\n\n\n    onSelectAge = (e) => {\n        this.setState({age : e})   \n        \n    }\n\n    // componentDidMount () {\n    //     this.props.parentCallback({data: this.state.data,\n    //         config: this.state.config});\n    // }\n\n    render () {\n\n        var relationview = (this.state.relationid) ? <RelationView ref = {this.props.ref} relations = {this.state.relationslist[this.state.relationid]} /> : <div></div>\n        var ageview = (this.state.age) ? <AgeView age = {this.state.age} /> : <div></div>\n        return (\n\n            <Container>\n            \n                <Tabs defaultActiveKey='relation'>\n                    <Tab eventKey = 'relation' title='Relations'>\n                    <Container style = {{ height : '30em', overflow : 'scroll'}}>\n                        <Form.Group>\n                    {this.state.relations.map(relation => {\n                        return (\n                            \n                        <Form.Row>\n                            <InputGroup>\n                                <InputGroup.Prepend>\n                                    <InputGroup.Checkbox onClick = {(event) => this.handleClusterQuery(relation.typeText)} />\n                                </InputGroup.Prepend>\n                                \n                                <InputGroup.Prepend>\n                                    <InputGroup.Text id=\"basic-addon1\" \n                                                        style = {{backgroundColor : relation.color, width : '100px', color : \"white\"}} \n                                                        onClick = {(event) => this.onSelectRelation(relation)}>{relation.typeText}</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                <FormControl placeholder={'rename'}/>\n                            \n                            </InputGroup>\n                        </Form.Row>\n\n                                )\n                    })}\n                    </Form.Group>\n                    </Container>\n\n                <Container style = {{ height : '30em', overflow : 'scroll'}}>\n                    {relationview}\n                </Container>\n                    </Tab>\n\n                    <Tab eventKey = 'ages' tab='Ages'>\n                    <Container style = {{ height : \"30em\", overflow : \"scroll\"}} >\n                    <Form.Group >\n                    {this.state.agesResource.map(age => {\n                        return (\n                            \n                            <Form.Row  >\n                            <InputGroup>\n\n                                <InputGroup.Prepend>\n                                    <InputGroup.Checkbox onClick = {(event) => this.handleAgeQuery(age.id)} />\n                                </InputGroup.Prepend>\n                                \n                                <InputGroup.Prepend>\n                                <InputGroup.Text id=\"basic-addon1\" \n                                                    // style = {{backgroundColor : relation.color, width : '100px', color : \"white\"}} \n                                                    onClick = {(event) => this.onSelectAge(age)}>{age.id}</InputGroup.Text>\n                                </InputGroup.Prepend>\n                                <FormControl placeholder={'rename'} />\n                                \n                            </InputGroup>\n\n                            </Form.Row>\n                            \n                                )\n                    })}\n                    </Form.Group>\n                    </Container>\n                    <Container style = {{ height : '30em', overflow : 'scroll'}}>\n                        {ageview}\n                    </Container>               \n                    </Tab>\n                </Tabs>\n                \n            </Container>\n            \n        )}\n}\n\n\nexport default DataBuilder;"]},"metadata":{},"sourceType":"module"}