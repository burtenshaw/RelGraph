{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ben/research/2020/11_november/potter_graph/app/src/App.js\";\n// import logo from './logo.svg';\nimport React from 'react';\nimport { InteractiveForceGraph, ForceGraph, ForceGraphNode, ForceGraphLink } from 'react-vis-force';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport DataBuilder from './Config';\nimport { GraphView // required\n, Edge // optional\n, Node // optional\n, BwdlTransformer // optional, Example JSON transformer\n, GraphUtils // optional, useful utility functions\n} from 'react-digraph'; // var data = JSON.parse(require('./data.json'));\n\nconst NODE_KEY = \"id\"; // Allows D3 to correctly update DOM\n\nclass Graph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCallback = childData => {\n      this.setState({\n        data: childData.data,\n        config: childData.config,\n        graph: getGraph()\n      });\n    };\n\n    this.state = {\n      data: null,\n      config: null,\n      selected: {},\n      newData: false\n    };\n    this.getGraph = this.getGraph.bind(this);\n  }\n  /* Define custom graph editing methods here */\n\n\n  getGraph() {\n    var nodes = this.state.data.nodes;\n    var edges = this.state.data.edges;\n    var selected = this.state.selected;\n    var NodeTypes = this.state.config.NodeTypes;\n    var NodeSubtypes = this.state.config.NodeSubtypes;\n    var EdgeTypes = this.state.config.EdgeTypes;\n\n    var graph = /*#__PURE__*/_jsxDEV(GraphView, {\n      ref: \"GraphView\",\n      nodeKey: NODE_KEY,\n      nodes: nodes,\n      edges: edges,\n      selected: selected,\n      nodeTypes: NodeTypes,\n      nodeSubtypes: NodeSubtypes,\n      edgeTypes: EdgeTypes,\n      onSelectNode: this.onSelectNode,\n      onCreateNode: this.onCreateNode,\n      onUpdateNode: this.onUpdateNode,\n      onDeleteNode: this.onDeleteNode,\n      onSelectEdge: this.onSelectEdge,\n      onCreateEdge: this.onCreateEdge,\n      onSwapEdge: this.onSwapEdge,\n      onDeleteEdge: this.onDeleteEdge\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this);\n\n    return graph;\n  }\n\n  render() {\n    if (this.state.newData) {\n      var graph = this.getGraph();\n      this.setState({\n        newData: false\n      });\n    } else {\n      var graph = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      id: \"graph\",\n      style: {\n        height: '1000px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(DataBuilder, {\n        parentCallback: this.handleCallback\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), graph]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Graph;","map":{"version":3,"sources":["/home/ben/research/2020/11_november/potter_graph/app/src/App.js"],"names":["React","InteractiveForceGraph","ForceGraph","ForceGraphNode","ForceGraphLink","Container","DataBuilder","GraphView","Edge","Node","BwdlTransformer","GraphUtils","NODE_KEY","Graph","Component","constructor","props","handleCallback","childData","setState","data","config","graph","getGraph","state","selected","newData","bind","nodes","edges","NodeTypes","NodeSubtypes","EdgeTypes","onSelectNode","onCreateNode","onUpdateNode","onDeleteNode","onSelectEdge","onCreateEdge","onSwapEdge","onDeleteEdge","render","height"],"mappings":"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","sourcesContent":["// import logo from './logo.svg';\nimport React from 'react';\nimport { InteractiveForceGraph, ForceGraph, ForceGraphNode, ForceGraphLink} from 'react-vis-force';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport DataBuilder from './Config';\n\nimport {\n  GraphView, // required\n  Edge, // optional\n  type IEdge, // optional\n  Node, // optional\n  type INode, // optional\n  type LayoutEngineType, // required to change the layoutEngineType, otherwise optional\n  BwdlTransformer, // optional, Example JSON transformer\n  GraphUtils // optional, useful utility functions\n} from 'react-digraph';\n\n// var data = JSON.parse(require('./data.json'));\n\nconst NODE_KEY = \"id\"       // Allows D3 to correctly update DOM\n\nclass Graph extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      config: null,\n      selected: {},\n      newData: false\n    }\n    this.getGraph = this.getGraph.bind(this)\n  }\n\n  /* Define custom graph editing methods here */\n  handleCallback = (childData) =>{\n    this.setState({data: childData.data,\n                  config: childData.config,\n                  graph: getGraph()})\n  }\n\n  getGraph () {\n    var nodes = this.state.data.nodes;\n    var edges = this.state.data.edges;\n    var selected = this.state.selected;\n\n    var NodeTypes = this.state.config.NodeTypes;\n    var NodeSubtypes = this.state.config.NodeSubtypes;\n    var EdgeTypes = this.state.config.EdgeTypes;\n    var graph = <GraphView  ref='GraphView'\n                  nodeKey={NODE_KEY}\n                  nodes={nodes}\n                  edges={edges}\n                  selected={selected}\n                  nodeTypes={NodeTypes}\n                  nodeSubtypes={NodeSubtypes}\n                  edgeTypes={EdgeTypes}\n                  onSelectNode={this.onSelectNode}\n                  onCreateNode={this.onCreateNode}\n                  onUpdateNode={this.onUpdateNode}\n                  onDeleteNode={this.onDeleteNode}\n                  onSelectEdge={this.onSelectEdge}\n                  onCreateEdge={this.onCreateEdge}\n                  onSwapEdge={this.onSwapEdge}\n                  onDeleteEdge={this.onDeleteEdge}/>\n\n    \n    return graph\n  }\n\n  render() {\n    if(this.state.newData){\n      var graph = this.getGraph();\n      this.setState({newData:false})\n    } else {\n      var graph = <div></div>\n    }\n    return (\n      <Container id='graph' style={{height: '1000px'}}>\n          \n          <DataBuilder parentCallback = {this.handleCallback} />\n          {graph}\n      </Container>\n    );\n  }\n\n}\n\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}