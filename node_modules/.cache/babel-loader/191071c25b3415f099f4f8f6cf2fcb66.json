{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ben/research/2020/11_november/potter_graph/app/src/App.js\";\n// import logo from './logo.svg';\nimport React from 'react';\nimport { InteractiveForceGraph, ForceGraph, ForceGraphNode, ForceGraphLink } from 'react-vis-force';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport DataBuilder from './Config';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport { GraphView // required\n, Edge // optional\n, Node // optional\n, BwdlTransformer // optional, Example JSON transformer\n, GraphUtils // optional, useful utility functions\n} from 'react-digraph'; // var data = JSON.parse(require('./data.json'));\n\nconst NODE_KEY = \"id\"; // Allows D3 to correctly update DOM\n\nclass Graph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCallback = childData => {\n      this.setState({\n        query: childData.query,\n        newQuery: true\n      });\n    };\n\n    var config = JSON.parse(require('./config.json'));\n    var data = JSON.parse(require('./data.json'));\n    this.state = {\n      data: data,\n      config: this.buildconfig(config),\n      selected: {}\n    };\n    this.handleCallback = this.handleCallback.bind(this);\n    this.componentDidUpdate = this.componentDidUpdate.bind(this); // this.onSelectNode = this.onSelectNode.bind(this)\n    // this.onSelectEdge = this.onSelectEdge.bind(this)\n    // this.componentDidMount = this.componentDidMount.bind(this)\n  } // Helper to find the index of a given node\n\n\n  getNodeIndex(searchNode) {\n    return this.state.graph.nodes.findIndex(node => {\n      return node[NODE_KEY] === searchNode[NODE_KEY];\n    });\n  } // Helper to find the index of a given edge\n\n\n  getEdgeIndex(searchEdge) {\n    return this.state.graph.edges.findIndex(edge => {\n      return edge.source === searchEdge.source && edge.target === searchEdge.target;\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.newQuery) {\n      // this.setState({ data : {nodes : null, selected : null, edge : null}})\n      this.setState({\n        newQuery: false\n      });\n      this.setState({\n        graph: null\n      });\n      var data = this.state.data;\n      var query = this.state.query;\n      var newEdges = this.state.data.edges.filter(e => this.state.query.includes(e.type));\n      console.log(newEdges);\n      var nodeIds = newEdges.flatMap(e => [e.source, e.target]);\n      var edgeIds = newEdges.map(e => `${e['source']}_${e['target']}`);\n      console.log(nodeIds);\n      console.log(data.nodes);\n      var newNodes = data.nodes.filter(n => nodeIds.includes(n.id));\n      console.log(newNodes);\n      data.nodes.map(node => {\n        if (nodeIds.includes(node.id)) {\n          console.log(node.id);\n          GraphUtils.removeElementFromDom(node.id);\n        }\n      });\n      nodeIds.map(edgeid => {\n        GraphUtils.removeElementFromDom(edgeid);\n        console.log(node.id);\n      });\n      edgeIds.map(edgeid => {\n        GraphUtils.removeElementFromDom(edgeid);\n        console.log(node.id);\n      });\n      this.state.data.nodes = newEdges;\n      this.state.data.edges = newNodes; // this.setState({ data : {nodes : newNodes, selected : null, edge : newEdges}})\n    }\n  }\n  /* Define custom graph editing metho  ds here */\n\n\n  buildconfig(config) {\n    var NodeTypes = {};\n    config.NodeTypes.map(type => {\n      type.shape = /*#__PURE__*/_jsxDEV(\"symbol\", {\n        viewBox: \"0 0 100 100\",\n        id: type.typeText,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"50\",\n          cy: \"50\",\n          r: \"45\",\n          style: {\n            color: '#ffffff',\n            fill: type.color\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)\n      }, \"0\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this);\n      NodeTypes[type.typeText] = type;\n    });\n    var EdgeTypes = {};\n    config.EdgeTypes.map(type => {\n      type.shape = /*#__PURE__*/_jsxDEV(\"symbol\", {\n        viewBox: \"0 0 200 200\",\n        id: type.typeText,\n        label_from: type.typeText,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"100\",\n          cy: \"100\",\n          r: \"45\",\n          fill: type.color\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)\n      }, \"0\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this);\n      EdgeTypes[type.typeText] = type;\n    });\n    var PotterConfig = {\n      NodeTypes: NodeTypes,\n      NodeSubtypes: {},\n      EdgeTypes: EdgeTypes\n    };\n    return PotterConfig;\n  } // onSelectNode = (viewNode) => {\n  //   // Deselect events will send Null viewNode\n  //   this.setState({ selected: viewNode });\n  // }\n  // onSelectEdge = (edge) => {\n  //   // Deselect events will send Null viewNode\n  //   this.setState({ selected: edge });\n  // }\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      id: \"graph\",\n      style: {\n        height: '1000px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(DataBuilder, {\n            parentCallback: this.handleCallback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(GraphView, {\n            ref: \"GraphView\",\n            nodeKey: NODE_KEY,\n            nodes: this.state.data.nodes,\n            edges: this.state.data.edges,\n            selected: this.state.selected,\n            nodeTypes: this.state.config.NodeTypes,\n            nodeSubtypes: this.state.config.NodeSubtypes,\n            edgeTypes: this.state.config.EdgeTypes,\n            onSelectNode: this.onSelectNode,\n            onCreateNode: this.onCreateNode,\n            onUpdateNode: this.onUpdateNode,\n            onDeleteNode: this.onDeleteNode,\n            onSelectEdge: this.onSelectEdge,\n            onCreateEdge: this.onCreateEdge,\n            onSwapEdge: this.onSwapEdge,\n            onDeleteEdge: this.onDeleteEdge,\n            layoutEngineType: 'SnapToGrid'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Graph;","map":{"version":3,"sources":["/home/ben/research/2020/11_november/potter_graph/app/src/App.js"],"names":["React","InteractiveForceGraph","ForceGraph","ForceGraphNode","ForceGraphLink","Container","DataBuilder","Col","Row","GraphView","Edge","Node","BwdlTransformer","GraphUtils","NODE_KEY","Graph","Component","constructor","props","handleCallback","childData","setState","query","newQuery","config","JSON","parse","require","data","state","buildconfig","selected","bind","componentDidUpdate","getNodeIndex","searchNode","graph","nodes","findIndex","node","getEdgeIndex","searchEdge","edges","edge","source","target","newEdges","filter","e","includes","type","console","log","nodeIds","flatMap","edgeIds","map","newNodes","n","id","removeElementFromDom","edgeid","NodeTypes","shape","typeText","color","fill","EdgeTypes","PotterConfig","NodeSubtypes","render","height","onSelectNode","onCreateNode","onUpdateNode","onDeleteNode","onSelectEdge","onCreateEdge","onSwapEdge","onDeleteEdge"],"mappings":"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","sourcesContent":["// import logo from './logo.svg';\nimport React from 'react';\nimport { InteractiveForceGraph, ForceGraph, ForceGraphNode, ForceGraphLink} from 'react-vis-force';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport DataBuilder from './Config';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nimport {\n  GraphView, // required\n  Edge, // optional\n  type IEdge, // optional\n  Node, // optional\n  type INode, // optional\n  type LayoutEngineType, // required to change the layoutEngineType, otherwise optional\n  BwdlTransformer, // optional, Example JSON transformer\n  GraphUtils // optional, useful utility functions\n} from 'react-digraph';\n\n// var data = JSON.parse(require('./data.json'));\n\nconst NODE_KEY = \"id\"       // Allows D3 to correctly update DOM\n\nclass Graph extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var config = JSON.parse(require('./config.json'));\n    var data = JSON.parse(require('./data.json'));\n    this.state = {\n      data: data,\n      config: this.buildconfig(config),\n      selected: {}\n    }\n    this.handleCallback = this.handleCallback.bind(this)\n    this.componentDidUpdate = this.componentDidUpdate.bind(this)\n    // this.onSelectNode = this.onSelectNode.bind(this)\n    // this.onSelectEdge = this.onSelectEdge.bind(this)\n    // this.componentDidMount = this.componentDidMount.bind(this)\n  }\n\n  // Helper to find the index of a given node\n  getNodeIndex(searchNode) {\n    return this.state.graph.nodes.findIndex(node => {\n      return node[NODE_KEY] === searchNode[NODE_KEY];\n    });\n  }\n\n  // Helper to find the index of a given edge\n  getEdgeIndex(searchEdge) {\n    return this.state.graph.edges.findIndex(edge => {\n      return (\n        edge.source === searchEdge.source && edge.target === searchEdge.target\n      );\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.newQuery) {\n      // this.setState({ data : {nodes : null, selected : null, edge : null}})\n      this.setState({newQuery : false});\n      this.setState({graph : null});\n      \n      var data = this.state.data;\n      var query = this.state.query;\n      var newEdges = this.state.data.edges.filter(e => this.state.query.includes(e.type));\n      console.log(newEdges);\n      var nodeIds = newEdges.flatMap((e) => [e.source, e.target]);\n      var edgeIds = newEdges.map((e) => `${e['source']}_${e['target']}`);\n\n      console.log(nodeIds);\n      console.log(data.nodes)\n      var newNodes = data.nodes.filter(n => nodeIds.includes(n.id));\n    \n      console.log( newNodes )\n      \n      data.nodes.map(node => {\n        if (nodeIds.includes(node.id)) {\n          console.log(node.id)\n          GraphUtils.removeElementFromDom(node.id)\n        }}\n      )\n      \n      nodeIds.map( edgeid => {\n        GraphUtils.removeElementFromDom(edgeid)\n        console.log(node.id)\n      })\n\n      edgeIds.map( edgeid => {\n        GraphUtils.removeElementFromDom(edgeid)\n        console.log(node.id)\n      })\n\n      this.state.data.nodes = newEdges\n      this.state.data.edges = newNodes\n      // this.setState({ data : {nodes : newNodes, selected : null, edge : newEdges}})\n\n    }\n  }\n\n  /* Define custom graph editing metho  ds here */\n  handleCallback = (childData) =>{\n    this.setState({query: childData.query, newQuery : true});\n  }\n\n  buildconfig(config) {\n        \n    var NodeTypes = {}\n\n    config.NodeTypes.map( type => {\n        type.shape =  (\n                <symbol viewBox=\"0 0 100 100\" id={type.typeText} key=\"0\">\n                    <circle cx=\"50\" cy=\"50\" r=\"45\" style={{ color : '#ffffff' , \n                                                            fill : type.color}} ></circle>\n                </symbol>\n                )\n        NodeTypes[type.typeText] = type\n        \n    })\n    \n    var EdgeTypes = {}\n    \n    config.EdgeTypes.map( type => {\n        type.shape = (\n                <symbol viewBox=\"0 0 200 200\" id={type.typeText} key=\"0\" label_from = {type.typeText}>\n                    <circle cx=\"100\" cy=\"100\" r=\"45\" fill={type.color}></circle>\n                </symbol>\n        )\n        EdgeTypes[type.typeText] = type\n    })\n    \n    var PotterConfig =  {\n        NodeTypes: NodeTypes,\n        NodeSubtypes: {},\n        EdgeTypes: EdgeTypes\n      }\n      \n    return PotterConfig;\n}\n  \n  // onSelectNode = (viewNode) => {\n  //   // Deselect events will send Null viewNode\n  //   this.setState({ selected: viewNode });\n  // }\n\n  // onSelectEdge = (edge) => {\n  //   // Deselect events will send Null viewNode\n  //   this.setState({ selected: edge });\n\n  // }\n\n  render() {\n\n    return (\n      <Container id='graph' style={{height: '1000px'}}>\n        <Row>\n          <Col>\n            <DataBuilder parentCallback = {this.handleCallback} />\n          </Col>\n          <Col>\n            <GraphView  \n              ref='GraphView'\n              nodeKey={NODE_KEY}\n              nodes={this.state.data.nodes}\n              edges={this.state.data.edges}\n              selected={this.state.selected}\n              nodeTypes={this.state.config.NodeTypes}\n              nodeSubtypes={this.state.config.NodeSubtypes}\n              edgeTypes={this.state.config.EdgeTypes}\n              onSelectNode={this.onSelectNode}\n              onCreateNode={this.onCreateNode}\n              onUpdateNode={this.onUpdateNode}\n              onDeleteNode={this.onDeleteNode}\n              onSelectEdge={this.onSelectEdge}\n              onCreateEdge={this.onCreateEdge}  \n              onSwapEdge={this.onSwapEdge}\n              onDeleteEdge={this.onDeleteEdge}\n              layoutEngineType={'SnapToGrid'}/>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n}\n\n\n\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}